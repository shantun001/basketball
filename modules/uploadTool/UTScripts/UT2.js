$(document).bind("contextmenu",function(_0xC243){_0xC243.preventDefault();return false});token= localStorage.getItem("token");if(token== null|| token.length<= 128){token= sessionStorage.getItem("token")};userName= localStorage.getItem("publicUserName");if(userName== null|| userName.length== 0){userName= sessionStorage.getItem("publicUserName")};if(token== null|| token.length== 0){redirect("Access.html")};if(userName== null|| userName.length== 0){userName= ""};tokenExpiration=  new Date(localStorage.getItem("tokenExpiration"));tokenExpiration.addDays(2);var untilExpires=DateDiff(tokenExpiration, new Date());if(untilExpires<= 0){redirect("Access.html")};document.getElementById("mainContainer").style.display= "block";var counter=0;var oldGameID=0;$("#dialog").dialog({buttons:{ok:function(){$("#dialog").dialog("close")}},close:function(){$("#dialog").dialog("close")},draggable:true,modal:true,autoOpen:false,title:"S4U",resizable:false,width:"auto"});function ShowMessage(_0xC48F){$("#dialog").text(_0xC48F);$("#dialog").dialog("open")}$("#loadingmessage").hide();$("#cboSeasons").empty().append("<option selected=\"selected\" value=\"0\"></option>");function OnSeasonsPopulated(_0xC2B3){if(_0xC2B3.length> 0){$("#cboSeasons").removeAttr("disabled");$("#cboSeasons").empty().append("<option selected=\"selected\" value=\"0\">please select</option>");$.each(_0xC2B3,function(){$("#cboSeasons").append($("<option></option>").val(this["id"]).html(this["name"]))})}else {$("#cboSeasons").empty().append("<option selected=\"selected\" value=\"0\">Not available<option>")};$("#loadingmessage").hide()}$("#loadingmessage").show();$.ajax({type:"GET",url:"https://api.s4upro.com/v1/seasons/",data:{},contentType:"application/json; charset=utf-8",dataType:"json",success:OnSeasonsPopulated,error:function(_0xC297,_0xC27B,_0xC25F){ShowMessage("Failed to get Seasons!");$("#loadingmessage").hide()},failure:function(_0xC2B3){ShowMessage("Failed to call method which gets Seasons!");$("#loadingmessage").hide()}});function LoadLeagues(){$("#cboLeagues").attr("disabled","disabled");$("#cboResults").attr("disabled","disabled");if($("#cboSeasons").val()=== "0"){$("#cboLeagues").empty().append("<option selected=\"selected\" value=\"0\">please select</option>");$("#cboResults").empty().append("<option selected=\"selected\" value=\"0\">please select</option>")}else {$("#cboLeagues").empty().append("<option selected=\"selected\" value=\"0\"></option>");$("#loadingmessage").show();$.ajax({type:"GET",url:"https://api.s4upro.com/v1/seasons/"+ $("#cboSeasons").val()+ "/leagues/",contentType:"application/json; charset=utf-8",dataType:"json",success:OnLeaguesPopulated,error:function(_0xC297,_0xC27B,_0xC25F){ShowMessage("Failed to get Leagues by SeasonID!");$("#loadingmessage").hide()},failure:function(_0xC2B3){ShowMessage("Failed to call method which gets Leagues by SeasonID!");$("#loadingmessage").hide()}})}}function OnLeaguesPopulated(_0xC2B3){if(_0xC2B3.length> 0){$("#cboLeagues").removeAttr("disabled");$("#cboLeagues").empty().append("<option selected=\"selected\" value=\"0\">please select</option>");$.each(_0xC2B3,function(){var _0xC3AF=String(this["id"]);var _0xC393=this["country"];if(_0xC393=== null){_0xC393= "0"}else {_0xC393= _0xC393["id"]};$("#cboLeagues").append($("<option></option>").val(_0xC3AF+ ";"+ _0xC393).html(this["name"]))})}else {$("#cboLeagues").empty().append("<option selected=\"selected\" value=\"0\">Not available<option>")};$("#loadingmessage").hide()}function LoadGameResults(){if(token== null|| token.length<= 128){ShowMessage("Unauthorized request.\x0D\x0A"+ "Your session has expired.");return};$("#cboResults").attr("disabled","disabled");if($("#cboLeagues").val()=== "0"){$("#cboResults").empty().append("<option selected=\"selected\" value=\"0\">please select</option>")}else {$("#cboResults").empty().append("<option selected=\"selected\" value=\"0\"></option>");var _0xC2CF=$("#cboLeagues").val();_0xC2CF= _0xC2CF.split(";");var _0xC307=_0xC2CF[0];var _0xC323=$("#cboSeasons").val();$("#loadingmessage").show();$.ajax({type:"GET",url:"https://api.s4upro.com/v1/seasons/"+ _0xC323+ "/leagues/"+ _0xC307+ "/games/",contentType:"application/json; charset=utf-8",dataType:"json",beforeSend:function(_0xC33F){_0xC33F.setRequestHeader("Authorization","JWT "+ token)},success:OnResultsPopulated,error:function(_0xC297,_0xC27B,_0xC25F){var _0xC377=JSON.parse(_0xC297.responseText);var _0xC35B=_0xC377["detail"];$("#loadingmessage").hide();ShowMessage(_0xC35B);redirect("Access.html")},failure:function(_0xC2B3){$("#loadingmessage").hide();ShowMessage("Failed to call method which gets Games!")}})}}function OnResultsPopulated(_0xC2B3){var _0xC3CB="";if(_0xC2B3.length> 0){$("#cboResults").removeAttr("disabled");$("#cboResults").empty().append("<option selected=\"selected\" value=\"0\">please select</option>");$.each(_0xC2B3,function(){_0xC3CB= this.game_date+ " - "+ this.home_team.name+ " vs "+ this.away_team.name;$("#cboResults").append($("<option></option>").val(this.id).html(_0xC3CB))})}else {$("#cboResults").empty().append("<option selected=\"selected\" value=\"0\">Not available<option>")};$("#loadingmessage").hide()}$("#cboSeasons").change(function(_0xC243){_0xC243.preventDefault();$("#cboLeagues").empty().append("<option selected=\"selected\" value=\"0\"></option>");$("#cboResults").empty().append("<option selected=\"selected\" value=\"0\"></option>");LoadLeagues()});$("#cboResults").change(function(){gameID= $("#cboResults").val();if(Number(gameID)=== 0|| oldGameID=== Number(gameID)){return};oldGameID= Number(gameID);PrepUpload()});$("#cboLeagues").change(function(){$("#cboResults").empty().append("<option selected=\"selected\" value=\"0\"></option>");LoadGameResults();var _0xC2CF=$("#cboLeagues").val();_0xC2CF= _0xC2CF.split(";");videoServerID= 10;bucketName= bucketNameEU;if(Number(_0xC2CF[1])=== 224){videoServerID= 11;bucketName= bucketNameUS;return};if(Number(_0xC2CF[1])=== 12){videoServerID= 16;bucketName= bucketNameASIA;return};if(Number(_0xC2CF[1])=== 167){videoServerID= 16;bucketName= bucketNameASIA;return};if(Number(_0xC2CF[1])=== 110){videoServerID= 16;bucketName= bucketNameASIA;return};if(Number(_0xC2CF[1])=== 43){videoServerID= 16;bucketName= bucketNameASIA;return};if(Number(_0xC2CF[1])=== 105){videoServerID= 16;bucketName= bucketNameASIA;return}});$("li").click(function(){var _0xC2EB=$(this).parent().children().index(this)});function PrepUpload(){sessionStorage.setItem("token",token);sessionStorage.setItem("publicUserName",userName);sessionStorage.setItem("resultsID",gameID);sessionStorage.setItem("videoServerID",videoServerID);sessionStorage.setItem("bucketName",bucketName);sessionStorage.setItem("folderName",folderName);sessionStorage.setItem("gameID",gameID);var _0xC43B="";_0xC43B= $("#cboResults").find("option:selected").text();if(_0xC43B.indexOf("(")!==  -1){_0xC43B= _0xC43B.substring(0,_0xC43B.indexOf("(")- 1)};var _0xC41F=extractYear(_0xC43B);subFolderName= _0xC41F[0];var _0xC3E7= new Date();year= ""+ _0xC3E7.getFullYear().toString().substr(-2);month= ""+ (_0xC3E7.getMonth()+ 1);if(month.length== 1){month= "0"+ month};day= ""+ _0xC3E7.getDate();if(day.length== 1){day= "0"+ day};hour= ""+ _0xC3E7.getHours();if(hour.length== 1){hour= "0"+ hour};minute= ""+ _0xC3E7.getMinutes();if(minute.length== 1){minute= "0"+ minute};second= ""+ _0xC3E7.getSeconds();if(second.length== 1){second= "0"+ second};var _0xC403="_"+ year+ month+ day+ hour+ minute+ second;newFileName= $("#cboSeasons").find("option:selected").text()+ " - "+ $("#cboLeagues").find("option:selected").text()+ " - "+ _0xC43B+ _0xC403+ ".mp4";while(newFileName.indexOf("/")!==  -1){newFileName= newFileName.replace("/",".")};sessionStorage.setItem("newFileName",newFileName);sessionStorage.setItem("subFolderName",subFolderName);sessionStorage.setItem("selectedGame",_0xC43B);counter= counter+ 1;$("#upload-list").append("<li class=\"element\" id=\"n"+ Number(counter)+ "\"><table style=\"width:100%;\"><tr><td style=\"width:89%; vertical-align:middle;\"><iframe id=\"no\" src=\"UF.html\" class=\"frameUpload\" style=\"width:99%; height:220px\" seamless></iframe></td><td style=\"width:9%; vertical-align:middle;\"><button class=\"btn btn-default removeFrame\" title=\"close\"><i class=\"fa fa-times\"></i> close</button></td></tr></table></li>");$(".removeFrame").click(function(_0xC457){_0xC457.preventDefault();var _0xC473=$(this).closest("li");_0xC473.remove();if($("#upload-list li").length== 0){document.getElementById("cboResults").selectedIndex= "0"}})}