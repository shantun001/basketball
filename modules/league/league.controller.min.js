app.controller("LeagueController",["$scope","LeaguesService","headerService","$compile","$sce","$timeout","TeamInformation","$rootScope","PlayerSearchService","$location","$window",function(a,f,p,w,x,k,m,e,u,q,r){function t(){a.tempTableData=a.tablePlayersData.slice();a.currentPage=a.paging.current;a.previousCount=15*a.currentPage-15;a.nextCount=15*a.currentPage;a.playersPagin=a.tempTableData.slice(a.previousCount,a.nextCount);k(function(){a.$apply()})}function v(){a.currentPage=a.pagingVideo.current;
    a.previousCount=15*a.currentPage-15;a.nextCount=15*a.currentPage;a.videosPagin=a.tableVideoData.slice(a.previousCount,a.nextCount)}a.openMenu=function(){$(".dropdown-content").toggle()};a.hideObj=function(){setTimeout(function(){$(".dropdown-content").hide("slow")},300)};a.tableParams=function(a){a=a.slice(8);a=a.split("/");return{logo:"",seasonId:a[0],id:a[1],name:a[2].replace(/_/g," ")}}(window.location.pathname);a.leagueId=a.tableParams.id;a.seasonId={id:a.tableParams.seasonId};a.leagueName=a.tableParams.name;
    a.print=function(){text=$(".comparison").html();print(text)};f.getMainPage(a.seasonId.id,a.leagueId).then(function(b){a.tableMainPageData=b;a.showTeamsTable()}).then(f.getLeaders(a.seasonId.id,a.leagueId).then(function(b){a.tableLeadersData=b;a.tableLeadersData["2PA"]=a.tableLeadersData["2PA"].sort(function(a,c){return c.p2_attempts-a.p2_attempts});a.tableLeadersData["2PM"]=a.tableLeadersData["2PM"].sort(function(a,c){return c.p2_made-a.p2_made});a.tableLeadersData["2P_PERCENT"]=a.tableLeadersData["2P_PERCENT"].sort(function(a,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        c){return c.oer-a.oer});a.tableLeadersData.OR=a.tableLeadersData.OR.sort(function(a,c){return c.of_rebounds-a.of_rebounds});a.tableLeadersData.PTS=a.tableLeadersData.PTS.sort(function(a,c){return c.points-a.points});a.tableLeadersData.ST=a.tableLeadersData.ST.sort(function(a,c){return c.steals-a.steals});a.tableLeadersData.TO=a.tableLeadersData.TO.sort(function(a,c){return c.turnovers-a.turnovers});a.tableLeadersData.TR=a.tableLeadersData.TR.sort(function(a,c){return c.tr-a.tr});a.tableLeadersData.VAL=
        a.tableLeadersData.VAL.sort(function(a,c){return c.val-a.val});a.tableLeadersData.VIR=a.tableLeadersData.VIR.sort(function(a,c){return c.vir-a.vir})})).then(f.getAllTeams(a.seasonId.id,a.leagueId).then(function(b){var d={};a.resultsCount=0;d[b[0].game_step_name]=[];d[b[0].game_step_name].push(b[0]);for(var c in d)for(var h=1;h<b.length;h++)c===b[h].game_step_name?d[c].push(b[h]):(d[b[h].game_step_name]||(d[b[h].game_step_name]=[]),d[b[h].game_step_name].push(b[h]));for(c in d)d[c]=d[c].slice(0,10),
        a.resultsCount+=d[c].length;a.allTeamsData=d}).then(function(){a.carouselGameResult={};var b=[],d;for(d in a.allTeamsData)b.push(Number(a.allTeamsData[d][0].game_step_id));b.sort(function(a,c){return new Date(a.game_date)-new Date(c.game_date)});for(d=0;d<b.length;d++)for(var c in a.allTeamsData)if(a.allTeamsData[c][0].game_step_id===b[d]){a.carouselGameResult[c]=a.allTeamsData[c];break}b={};c=0;for(var h in a.carouselGameResult)for(b[h]=[],d=0;d<a.carouselGameResult[h].length;d++)if(20>c)b[h].push(a.carouselGameResult[h][d]),
        c++;else break})).then(f.getSeasons(a.leagueId).then(function(b){a.seasonsData=[];b=_.sortBy(b,"id").reverse().slice();if(e.isAdmin||e.goldSubscription)a.seasonsData=b.slice();else{for(var d=[],c=0;c<e.accessibleLeagues.length;c++)e.accessibleLeagues[c].leagueId==a.leagueId&&d.push(e.accessibleLeagues[c].seasonId);for(c=0;c<b.length;c++)d.includes(b[c].id)&&a.seasonsData.push(b[c])}for(c=0;c<a.seasonsData.length;c++)if(a.seasonsData[c].id==a.seasonId.id){a.correctCurrentSeasonName=a.seasonsData[c].name;
        break}})).then(function(){setTimeout(function(){$(".league-table").fadeIn(1E3)},0);$(".loader-container").fadeOut(500)});a.$on("$viewContentLoaded",function(){function b(a){var c="#li"+a.substr(1);$(a).addClass("in");$(a).addClass("active");$(c).addClass("active")}e.selectedTabLeague?($("#home").removeClass("active"),$("#lihome").removeClass("active"),"Results"===e.selectedTabLeague?(a.getResult(),b("#menu1")):"Main"===e.selectedTabLeague?b("#home"):"Stats"===e.selectedTabLeague?k(function(){a.showStatsTable();
        b("#menu2")},1E3):"Team Ranks"===e.selectedTabLeague?k(function(){a.teamRanksTable();b("#menu7")},1500):"Teams"===e.selectedTabLeague?k(function(){a.showTeamsTable();b("#menu3")},1E3):"Players"===e.selectedTabLeague?(a.showPlayersTable(),b("#menu4")):"Leaders"===e.selectedTabLeague?b("#menu5"):"Watch Video"===e.selectedTabLeague?(a.showVideo(),b("#menu6")):"Premium"===e.selectedTabLeague&&b("#menu8"),e.selectedTabTeam=null):k(function(){a.selectedTabLeague="Main";$("#home").addClass("active");$("#lihome").addClass("active")},
        1E3)});a.selectTab=function(b){a.selectedTabLeague=b;e.selectedTabLeague=b};a.changeStatsTableData=function(b){switch(b){case "all":a.tableStatsData=a.defaultTableStatsData;a.tableStatsDataOp=a.defaultTableStatsDataOp;break;case "home":a.tableStatsData=a.tableStatsDataHome;a.tableStatsDataOp=a.tableStatsDataHomeOp;break;case "away":a.tableStatsData=a.tableStatsDataAway;a.tableStatsDataOp=a.tableStatsDataAwayOp;break;case "won":a.tableStatsData=a.tableStatsDataWon;a.tableStatsDataOp=a.tableStatsDataWonOp;
        break;case "lose":a.tableStatsData=a.tableStatsDataLose,a.tableStatsDataOp=a.tableStatsDataLoseOp}};a.showStatsTable=function(){function b(a){a=a.slice();for(var b in a)a[b].fgp=a[b].fg_made/a[b].fg_attempts*100,a[b].p3p=a[b].p3_made/a[b].p3_attempts*100,a[b].p2p=a[b].p2_made/a[b].p2_attempts*100,a[b].ftp=a[b].ft_made/a[b].ft_attempts*100,a[b].tr=a[b].of_rebounds+a[b].df_rebounds;return a}function d(a){a=JSON.parse(JSON.stringify(a));for(var b in a)a[b].fgp=a[b].op_fg_made/a[b].op_fg_attempts*100,
        a[b].p3p=a[b].op_p3_made/a[b].op_p3_attempts*100,a[b].p2p=a[b].op_p2_made/a[b].op_p2_attempts*100,a[b].ftp=a[b].op_ft_made/a[b].op_ft_attempts*100,a[b].tr=a[b].op_of_rebounds+a[b].op_df_rebounds;return a}f.getStats(a.seasonId.id,a.leagueId).then(function(c){a.defaultTableStatsData=b(c);a.defaultTableStatsDataOp=d(c);a.tableStatsData=a.defaultTableStatsData;a.tableStatsDataOp=a.defaultTableStatsDataOp});f.getStatsHome(a.seasonId.id,a.leagueId).then(function(c){a.tableStatsDataHome=b(c);a.tableStatsDataHomeOp=
        d(c)});f.getStatsAway(a.seasonId.id,a.leagueId).then(function(c){a.tableStatsDataAway=b(c);a.tableStatsDataAwayOp=d(c)});f.getStatsWon(a.seasonId.id,a.leagueId).then(function(c){a.tableStatsDataWon=b(c);a.tableStatsDataWonOp=d(c)});f.getStatsLose(a.seasonId.id,a.leagueId).then(function(c){a.tableStatsDataLose=b(c);a.tableStatsDataLoseOp=d(c)})};a.statsSortObj={team_name:!1,gp:!1,won:!1,pts:!1,fgm:!1,fga:!1,fgp:!1,"3pm":!1,"3pa":!1,"3pp":!1,"2pm":!1,"2pa":!1,"2pp":!1,ftm:!1,fta:!1,ftp:!1,or:!1,dr:!1,
        tr:!1,as:!1,to:!1,st:!1,bs:!1,fm:!1,fr:!1};a.statsSort=function(b){a.statsSortObj[b]=!0;for(var d in a.statsSortObj)d!=b&&(a.statsSortObj[d]=!1);switch(b){case "team_name":a.statsSortParam="team_name";a.statsSortParamOp="team_name";break;case "gp":a.statsSortParam="games_played";a.statsSortParamOp="games_played";break;case "won":a.statsSortParam="won";a.statsSortParamOp="won";break;case "pts":a.statsSortParam="points";a.statsSortParamOp="op_points";break;case "fgm":a.statsSortParam="fg_made";a.statsSortParamOp=
        "op_fg_made";break;case "fga":a.statsSortParam="fg_attempts";a.statsSortParamOp="op_fg_attempts";break;case "fgp":a.statsSortParam="fgp";a.statsSortParamOp="fgp";break;case "3pm":a.statsSortParam="p3_made";a.statsSortParamOp="op_p3_made";break;case "3pa":a.statsSortParam="p3_attempts";a.statsSortParamOp="op_p3_attempts";break;case "3pp":a.statsSortParam="p3p";a.statsSortParamOp="p3p";break;case "2pm":a.statsSortParam="p2_made";a.statsSortParamOp="op_p2_made";break;case "2pa":a.statsSortParam="p2_attempts";
        a.statsSortParamOp="op_p2_attempts";break;case "2pp":a.statsSortParam="p2p";a.statsSortParamOp="p2p";break;case "ftm":a.statsSortParam="ft_made";a.statsSortParamOp="op_ft_made";break;case "fta":a.statsSortParam="ft_attempts";a.statsSortParamOp="op_ft_attempts";break;case "ftp":a.statsSortParam="ftp";a.statsSortParamOp="ftp";break;case "or":a.statsSortParam="of_rebounds";a.statsSortParamOp="op_of_rebounds";break;case "dr":a.statsSortParam="df_rebounds";a.statsSortParamOp="op_df_rebounds";break;case "tr":a.statsSortParam=
        "tr";a.statsSortParamOp="tr";break;case "as":a.statsSortParam="assists";a.statsSortParamOp="op_assists";break;case "to":a.statsSortParam="turnovers";a.statsSortParamOp="op_turnovers";break;case "st":a.statsSortParam="steals";a.statsSortParamOp="op_steals";break;case "bs":a.statsSortParam="block_shots";a.statsSortParamOp="op_block_shots";break;case "fm":a.statsSortParam="fouls_made";a.statsSortParamOp="op_fouls_made";break;case "fr":a.statsSortParam="fouls_received",a.statsSortParamOp="op_fouls_received"}0==
    a.statsSortCount?a.firstSortParam=b:b!=a.firstSortParam&&(a.firstSortParam=b,a.statsSortCount=0);if(1==a.statsSortCount)b="-"+a.statsSortParamOp,a.statsSortParam="-"+a.statsSortParam,a.statsSortParamOp=b;else if(2==a.statsSortCount){a.statsSortCount=0;a.statsSortParam="-won";a.statsSortParamOp="-won";a.statsSortObj[b]=!1;return}a.statsSortCount++};a.statsSortParam="-won";a.statsSortParamOp="-won";a.statsSortCount=0;a.showTeamsTable=function(){f.getTeams(a.seasonId.id,a.leagueId).then(function(b){a.tableTeamsData=
        b})};a.showPlayersTable=function(){f.getPlayers(a.seasonId.id,a.leagueId).then(function(b){a.defaultTablePlayersData=b;a.tablePlayersData=a.defaultTablePlayersData.slice();a.nameSort=_.sortBy(a.defaultTablePlayersData,"name").slice();a.positionSort=_.sortBy(a.defaultTablePlayersData,"position[0].short_name").slice();a.heightSort=_.sortBy(a.defaultTablePlayersData,"height").slice();a.ageSort=_.sortBy(a.defaultTablePlayersData,"age").slice();a.trSort=_.sortBy(a.defaultTablePlayersData,"tr").slice();
        a.astnSort=_.sortBy(a.defaultTablePlayersData,"assists").slice();a.ptsSort=_.sortBy(a.defaultTablePlayersData,"pts").slice();a.teamSort=_.sortBy(a.defaultTablePlayersData,"team").slice();a.videoSort=_.sortBy(a.defaultTablePlayersData,"videos").slice();a.currentPage=0;a.previousCount=0;a.nextCount=0;a.paging={total:Math.ceil(parseFloat(a.tablePlayersData.length/15)),current:1,onPageChanged:t}}).then(function(){setTimeout(function(){$(".table-players-content").fadeIn(1E3)},0);$(".loader-container-players").fadeOut(500)})};
    a.showVideo=function(){f.getVideo(a.seasonId.id,a.leagueId).then(function(b){a.tableVideoData=b;a.currentPage=0;a.previousCount=0;a.nextCount=0;a.pagingVideo={total:Math.ceil(parseFloat(a.tableVideoData.length/15)),current:1,onPageChanged:v}}).then(function(){setTimeout(function(){$(".league-table-videos").fadeIn(1E3)},0);$(".loader-container-videos").fadeOut(500)})};a.getResult=function(){f.getResults(a.seasonId.id,a.leagueId).then(function(b){for(var d=[],c=[],e={},f=[],g=0;g<b.length;g++)0!==f.length&&
    f[f.length-1]===b[g].step_name||f.push(b[g].step_name);for(var l=0;l<f.length;l++)for(g=0;g<b.length;g++)f[l]===b[g].step_name?(c.push(b[g],b[g+1]),d.push(c),c=[],g++,e[f[l]]=d,e[f[l]].flag=0===b[g].q1_points&&0<b[g].q2_points&&0===b[g].q3_points&&b[g].q4_points?"true":"false"):d=[];b=[];for(l in e)b.push({obj:e[l],date:e[l][0][0].game_date,name:l});b.sort(function(a,b){return new Date(a.date)-new Date(b.date)});e={};for(g=0;g<b.length;g++)e[b[g].name]=b[g].obj;a.resultTable=e;$(".loader-container-videos").fadeOut(500)})};
    a.playerSortObj={name:"none",position:"none",height:"none",age:"none",tr:"none",astn:"none",pts:"none",team:"none",video:"none"};a.playerSort=function(b){a.playerSortObj[b]="none"==a.playerSortObj[b]?"down":"down"==a.playerSortObj[b]?"up":"none";for(var d in a.playerSortObj)d!=b&&(a.playerSortObj[d]="none");a.tableMarkup="";a.tablePlayersData.length=0;switch(b){case "name":a.tablePlayersData=a.nameSort.slice();break;case "position":a.tablePlayersData=a.positionSort.slice();break;case "height":a.tablePlayersData=
        a.heightSort.slice();break;case "age":a.tablePlayersData=a.ageSort.slice();break;case "tr":a.tablePlayersData=a.trSort.slice();break;case "astn":a.tablePlayersData=a.astnSort.slice();break;case "pts":a.tablePlayersData=a.ptsSort.slice();break;case "team":a.tablePlayersData=a.teamSort.slice();break;case "video":a.tablePlayersData=a.videoSort.slice()}switch(a.playerSortObj[""+b]){case "none":a.tablePlayersData=a.defaultTablePlayersData.slice();break;case "up":a.tablePlayersData=a.tablePlayersData.reverse().slice()}t()};
    a.teamRanks=[];a.teamRanksTable=function(){f.getTeamRanks(a.seasonId.id,a.leagueId).then(function(b){a.teamRanks=b;a.teamRanksColor=b.length;a.tableTeamsRanksData=a.teamRanks.slice();a.team_nameSort=_.sortBy(a.tableTeamsRanksData,"team_name").slice();a.ptsSort=_.sortBy(a.tableTeamsRanksData,"points_league_rank").slice();a.fgmSort=_.sortBy(a.tableTeamsRanksData,"fgm_league_rank").slice();a.fgaSort=_.sortBy(a.tableTeamsRanksData,"fga_league_rank").slice();a.fgpSort=_.sortBy(a.tableTeamsRanksData,"fg_percent_league_rank").slice();
        a.pm_3Sort=_.sortBy(a.tableTeamsRanksData,"p3m_league_rank").slice();a.pa_3Sort=_.sortBy(a.tableTeamsRanksData,"p3a_league_rank").slice();a.pp_3Sort=_.sortBy(a.tableTeamsRanksData,"p3_percent_league_rank").slice();a.pm_2Sort=_.sortBy(a.tableTeamsRanksData,"p2m_league_rank").slice();a.pa_2Sort=_.sortBy(a.tableTeamsRanksData,"p2a_league_rank").slice();a.pp_2Sort=_.sortBy(a.tableTeamsRanksData,"p2_percent_league_rank").slice();a.ftmSort=_.sortBy(a.tableTeamsRanksData,"ftm_league_rank").slice();a.ftaSort=
            _.sortBy(a.tableTeamsRanksData,"fta_league_rank").slice();a.ftpSort=_.sortBy(a.tableTeamsRanksData,"ft_percent_league_rank").slice();a.orSort=_.sortBy(a.tableTeamsRanksData,"or_league_rank").slice();a.drSort=_.sortBy(a.tableTeamsRanksData,"dr_league_rank").slice();a.trSort=_.sortBy(a.tableTeamsRanksData,"tr_league_rank").slice();a.asSort=_.sortBy(a.tableTeamsRanksData,"as_league_rank").slice();a.toSort=_.sortBy(a.tableTeamsRanksData,"to_league_rank").slice();a.stSort=_.sortBy(a.tableTeamsRanksData,
            "st_league_rank").slice();a.srSort=_.sortBy(a.tableTeamsRanksData,"sr_league_rank").slice();a.bsSort=_.sortBy(a.tableTeamsRanksData,"bs_league_rank").slice();a.fmSort=_.sortBy(a.tableTeamsRanksData,"fm_league_rank").slice();a.frSort=_.sortBy(a.tableTeamsRanksData,"fs_league_rank").slice();a.valSort=_.sortBy(a.tableTeamsRanksData,"val_league_rank").slice()})};a.teamRanksSortObj={team_name:"none",pts:"none",fgm:"none",fga:"none",fgp:"none",pm_3:"none",pa_3:"none",pp_3:"none",pm_2:"none",pa_2:"none",
        pp_2:"none",ftm:"none",fta:"none",ftp:"none",or:"none",dr:"none",tr:"none",as:"none",to:"none",st:"none",sr:"none",bs:"none",fm:"none",fr:"none",val:"none"};a.teamRanksSort=function(b){a.teamRanksSortObj[b]="none"==a.teamRanksSortObj[b]?"down":"down"==a.teamRanksSortObj[b]?"up":"none";for(var d in a.teamRanksSortObj)d!=b&&(a.teamRanksSortObj[d]="none");switch(b){case "team_name":a.teamRanks=a.team_nameSort.slice();break;case "pts":a.teamRanks=a.ptsSort.slice();break;case "fgm":a.teamRanks=a.fgmSort.slice();
        break;case "fga":a.teamRanks=a.fgaSort.slice();break;case "fgp":a.teamRanks=a.fgpSort.slice();break;case "pm_3":a.teamRanks=a.pm_3Sort.slice();break;case "pa_3":a.teamRanks=a.pa_3Sort.slice();break;case "pp_3":a.teamRanks=a.pp_3Sort.slice();break;case "pm_2":a.teamRanks=a.pm_2Sort.slice();break;case "pa_2":a.teamRanks=a.pa_2Sort.slice();break;case "pp_2":a.teamRanks=a.pp_2Sort.slice();break;case "ftm":a.teamRanks=a.ftmSort.slice();break;case "fta":a.teamRanks=a.ftaSort.slice();break;case "ftp":a.teamRanks=
        a.ftpSort.slice();break;case "or":a.teamRanks=a.orSort.slice();break;case "dr":a.teamRanks=a.drSort.slice();break;case "tr":a.teamRanks=a.trSort.slice();break;case "as":a.teamRanks=a.asSort.slice();break;case "to":a.teamRanks=a.toSort.slice();break;case "st":a.teamRanks=a.stSort.slice();break;case "sr":a.teamRanks=a.srSort.slice();break;case "bs":a.teamRanks=a.bsSort.slice();break;case "fm":a.teamRanks=a.fmSort.slice();break;case "fr":a.teamRanks=a.frSort.slice();break;case "val":a.teamRanks=a.valSort.slice()}switch(a.teamRanksSortObj[""+
    b]){case "none":a.teamRanks=a.tableTeamsRanksData.slice();break;case "up":a.teamRanks=a.teamRanks.reverse().slice()}};k(function(){a.currentTranslate=0;a.carouselResults=$(".carousel-results");var b=document.getElementsByClassName("results-date");b=b[0].getBoundingClientRect().width*b.length;var d=document.getElementsByClassName("results-container");d=d[0].getBoundingClientRect().width*d.length;a.carouselResultsWidth=document.getElementsByClassName("carousel-results")[0].getBoundingClientRect().width;
        a.totalWidth=b+d},3E3);a.scrollLength=0;a.scrollPrev=function(){0<Math.abs(a.currentTranslate)-745?(a.currentTranslate+=745,a.carouselResults.css("transform","translate("+a.currentTranslate+"px, 0px) translateZ(0px)")):0<Math.abs(a.currentTranslate)&&(a.currentTranslate=28,a.carouselResults.css("transform","translate("+a.currentTranslate+"px, 0px) translateZ(0px)"))};a.scrollNext=function(){Math.abs(a.currentTranslate)+745+1094<a.totalWidth?(a.currentTranslate-=745,a.carouselResults.css("transform",
        "translate("+a.currentTranslate+"px, 0px) translateZ(0px)")):Math.abs(a.currentTranslate)<a.totalWidth&&(a.currentTranslate-=a.totalWidth-1094-60-Math.abs(a.currentTranslate),a.carouselResults.css("transform","translate("+a.currentTranslate+"px, 0px) translateZ(0px)"))};a.openMenu=function(){$(".dropdown-content").toggle()};a.hideObj=function(){setTimeout(function(){$(".dropdown-content").fadeOut("slow")},300)};a.setSeasonId=function(b,d,c){a.seasonId.id=b;e.choiceSeason=d;p.addParams(c,a.tableParams.name,
        a.seasonId.id,a.tableParams.logo);a.tableParams=p.getParams()};a.getTeamData=function(b){$("body").removeClass("modal-open");for(var d in a.tableTeamsData)if(a.tableTeamsData[d].name==b){a.sendTeamParams(a.seasonId.id,a.leagueId,a.tableTeamsData[d].id,a.tableTeamsData[d].name.replace(" ","_"),a.tableTeamsData[d].logo);break}q.path("team/"+a.tableteamsSearh.seasonId+"/"+a.tableteamsSearh.leagueId+"/"+a.tableteamsSearh.teamId+"/"+a.tableteamsSearh.nameTeam)};a.sendTeamParams=function(b,d,c,f,k){a.tableteamsSearh=
        {seasonId:b,leagueId:d,teamId:c,nameTeam:f};m.addTeamParams(b,d,c,f,k);e.choiceSeason=""};a.getPlayerData=function(a){u.getPlayerById(a).then(function(a){e.playerProfile=a;e.goldSubscription||e.isAdmin?r.open("player/"+e.playerProfile.id+"/"+e.playerProfile.last_name+"_"+e.playerProfile.first_name,"_blank"):q.path("player/"+e.playerProfile.id+"/"+e.playerProfile.last_name+"_"+e.playerProfile.first_name)})};a.getPlayerDataNewTab=function(a,d,c){document.getElementById("watch_video_game").pause();r.open("player/"+
        a+"/"+c+"_"+d,"_blank")};a.setPlayerId=function(a,d,c,f,k,g,l,m){e.playerProfile={id:a,first_name:d,last_name:c,height:f,age:g,position:{name:k},main_nationality:{name:l},profile_photo:m}};a.addDate=function(b){a.gameDate=b.split("-")[2]+"/"+b.split("-")[1]+"/"+b.split("-")[0]};a.closeWatchVideo=function(){document.getElementById("watch_video_game").pause();$(".league-table").fadeIn(300)};var n=1;a.controlSecondButtons=function(a){document.getElementById("watch_video_game").currentTime+=+a};a.controlSpeedButtons=
        function(a){n+=+a;a=document.getElementById("watch_video_game");.2>n&&(n=.2);a.playbackRate=n};a.controlSpeedNormalButtons=function(){n=1;a.indexVideo=!0;document.getElementById("watch_video_game").playbackRate=n};a.controlPlayPause=function(){var b=document.getElementById("watch_video_game");a.indexVideo?b.play():b.pause();a.indexVideo=!a.indexVideo};a.addSrc=function(b,d,c,e,f){a.indexVideo=!0;$("#watch_video_game").attr("src",b);$(".league-table").fadeOut(1E3);$(".loader-container").fadeIn(1E3);
        a.homeName=e;a.awayName=f;m.getTeamForVideo(a.seasonId.id,a.leagueId,d).then(function(b){a.dataFirstTeam=b});m.getTeamForVideo(a.seasonId.id,a.leagueId,c).then(function(b){a.dataSecondTeam=b}).then(function(){setTimeout(function(){$("#see_video").fadeIn(300);$("#see_video").modal("show")},600);$(".loader-container").fadeOut(300)});k(function(){a.controlPlayPause()})};$(".close-youtube").click(function(){$("#watch_video").attr("src",null)});a.setVideoId=function(b){a.indexVideo=!0;$(".league-table").fadeOut(1E3);
        $(".loader-container").fadeIn(1E3);m.getVideoForId(b).then(function(d){$("#watch_video_game").attr("src",d.video.video_server.http_path+d.video.link);$("#watch_video_game_2").attr("href",d.video.video_server.http_path+d.video.link);m.getTeamForVideoNew(b,d.video.game.home_team.id).then(function(b){a.dataFirstTeam=b;a.gameDate=d.video.game.game_date.split("-")[2]+"/"+d.video.game.game_date.split("-")[1]+"/"+d.video.game.game_date.split("-")[0];a.homeName=d.video.game.home_team.name;a.getLeagueName=
            d.video.game.league.name;a.getSeasonName=d.video.game.season.name});m.getTeamForVideoNew(b,d.video.game.away_team.id).then(function(b){a.dataSecondTeam=b;a.awayName=d.video.game.away_team.name}).then(function(){setTimeout(function(){$("#see_video").fadeIn(300);$("#see_video").modal("show")},600);$(".loader-container").fadeOut(300)});k(function(){a.controlPlayPause()},300)})};a.openBoxScore=function(b){m.getBoxScore(b).then(function(b){a.tableBox=b;b.game_stats[0].team===b.away_team.id?(a.totalHomeTeam=
        b.game_stats[1],a.totalAwayTeam=b.game_stats[0]):(a.totalHomeTeam=b.game_stats[0],a.totalAwayTeam=b.game_stats[1])})}}]);